<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>

  i18n Multitenancy: Customer-Specific Translations ¬∑ M√°ximo Mussini

</title>

<meta name="author" content="M√°ximo Mussini">
<meta name="description" content="When providing services to different companies or customers with the same
software, such as enterprise or white-label applications, it‚Äôs not unusual that
each customer uses different terminology for certain concepts within the application.

While they might be similar in terms of operations ‚Ä¶">
<meta name="keywords" content="">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="cleartype" content="on">
<meta name="theme-color" content="#5C7E8F" />

<!-- Styles -->
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Raleway:700,800,900|Lato:400,400italic,700,900&display=swap" type="text/css">
<link rel="stylesheet" href="/assets/css/styles.css" media="screen, projection">

<!-- Icons -->
<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" sizes="192x192" href="/icon.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.jpg">
<link rel="alternate" type="application/atom+xml" href="/feed.xml" title="M√°ximo Mussini ¬∑ Code and Design">

<!-- Facebook Stuff -->
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:url" content="http://maximomussini.com/posts/i18n-multitenant/">
<meta property="og:site_name" content="M√°ximo Mussini">
<meta property="og:title" content="i18n Multitenancy: Customer-Specific Translations">
<meta property="og:image" content="http://maximomussini.com/images/posts/i18n-multitenant.jpg">
<meta property="og:description" content="When providing services to different companies or customers with the same
software, such as enterprise or white-label applications, it‚Äôs not unusual that
each customer uses different terminology for certain concepts within the application.

While they might be similar in terms of operations ‚Ä¶">

<!-- Twitter Stuff -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:domain" value="maximomussini.com" />
<meta name="twitter:title" value="i18n Multitenancy: Customer-Specific Translations" />
<meta name="twitter:description" value="When providing services to different companies or customers with the same
software, such as enterprise or white-label applications, it‚Äôs not unusual that
each customer uses different terminology for certain concepts within the application.

While they might be similar in terms of operations ‚Ä¶" />
<meta name="twitter:image" content="http://maximomussini.com/images/posts/i18n-multitenant.jpg" />
<meta name="twitter:url" value="http://maximomussini.com/posts/i18n-multitenant/" />

  </head>
  <body>
    <header>
  
    <div class="hero" style="background-image: url(/images/posts/i18n-multitenant.jpg)">
      <h1>i18n Multitenancy: Customer-Specific Translations</h1>
    </div>
  
</header>

    <div class="menu container">
  <ul>
    
<li>
  <a href="/about/">About</a>
</li>

    
<li>
  <a href="/posts/">Posts</a>
</li>

    <li>
      <a href="/" class="logo">
  <span class="text">M</span>
</a>

    </li>
    
<li>
  <a href="/projects/">Projects</a>
</li>

    
<li>
  <a href="/talks/">Talks</a>
</li>

  </ul>
  <hr />
</div>

    <div class="content container">
  

  <div class="post-info">
  <span class="date">January 26, 2017</span>
  <span class="reading-time">3 min read</span>
</div>


  <div class="post">
    <p>When providing services to different companies or customers with the same
software, such as enterprise or white-label applications, it‚Äôs not unusual that
each customer uses different terminology for certain concepts within the application.</p>

<p>While they might be similar in terms of operations and transactions, different
domains will often use different jargon, and as a result, prefer different names
for a given feature or aspect of an application.</p>

<p>For example, a concept that in our application is <em>‚Äúperson‚Äù</em>, might be referred to
as <em>‚Äúuser‚Äù</em>, <em>‚Äúcustomer‚Äù</em>, or <em>‚Äúemployee‚Äù</em>, based on the language of their specific
domain, or when using their <em>in-house</em> terminology.</p>

<p>Using the same terms than our users in their every day routine can help to make
the software feel more natural and easier to grasp, lowering the adoption
barrier and reducing the resistance to change in large organizations.</p>

<blockquote>
  <p>‚Ä¶fits right in with our usual flow.</p>
</blockquote>

<h3 id="using-i18n-fallbacks-">Using i18n fallbacks üåé</h3>

<p>Fortunately, we can easily accomplish this by leveraging the existing i18n tools
that are available in most platforms.</p>

<p>Just like we might allow a customer to switch between American or British
variants of the English language (<code class="highlighter-rouge">en-US</code> and <code class="highlighter-rouge">en-UK</code>), we can create additional
language-variants or locales for each customer or domain (<code class="highlighter-rouge">en-LAW</code>):</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">en-LAW</span>
  <span class="s">customer</span><span class="pi">:</span> <span class="s">client</span>
</code></pre></div></div>

<p>We can then use i18n fallbacks, so that any keys that are not defined in our
domain-specific locale <em>fall back</em> to the usual definition in the language.</p>

<p>In the example above, any users that have the <code class="highlighter-rouge">LAW</code> translation preset assigned
would see <em>‚Äúclient‚Äù</em>, but other users might see <em>‚Äúcustomer‚Äù</em>.</p>

<p>This allows us to achieve a nice balance between configurability and productivity.</p>

<p>By managing these text overrides within the translation engine, it becomes
almost effortless to dynamically customize the language used in the app.</p>

<p>Dictionaries for different domains or specific customers can be added with ease,
and it becomes easier to test all the different combinations in the application.</p>

<h3 id="a-solution-for-ruby-apps-">A solution for Ruby apps üíé</h3>

<p>I have wrapped a Ruby solution as the <a href="https://github.com/ElMassimo/i18n_multitenant"><code class="highlighter-rouge">i18n_multitenant</code></a> gem.
Please <a href="https://github.com/ElMassimo/i18n_multitenant">check the readme</a> for a more thorough explanation of
how language variants are used, and a few examples on how to organize
translations in order to effectively implement the approach.</p>

<h4 id="what-about-translations-in-the-browser">What about translations in the browser?</h4>

<p>For single-page applications or other apps where it‚Äôs desirable to perform the
translations in the browser, we can use a library such as <a href="https://github.com/fnando/i18n-js"><code class="highlighter-rouge">i18n-js</code></a>.</p>

<p>It‚Äôs possible to <a href="https://github.com/ElMassimo/i18n_multitenant#front-end_translations">configure it to use fallbacks</a>,
allowing us to reuse the same translation files in the JS world.</p>

<h3 id="summary">Summary</h3>

<p><code class="highlighter-rouge">i18n</code> fallbacks provide a simple way to adapt the terminology used in our
software based on different domains and users needs, making it <em>feel more familiar</em>
and easier to use <em>without restricting the software‚Äôs flexibility</em>.</p>

  </div>

  <div class="ending">
  <div class="author">
    <a href="/" class="logo">
  <span class="text">M</span>
</a>

    <span>By</span>
    <a href="https://twitter.com/MaximoMussini" class="author-name short">@Maximo</a>
    <a href="https://twitter.com/MaximoMussini" class="author-name full">@MaximoMussini</a>
    <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-via="MaximoMussini" data-related="" data-show-count="false">Tweet</a>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

  </div>
</div>

</div>



  <a id="next-post" href="/posts/better-settings/" class="hidden"></a>




  <div class="previous-post">
    <div class="content container">
      <a id="previous-post" href="/posts/mongoid-aggregation-dsl/" class="overlay">
        <h1>Aggregation DSL in Mongoid</h1>
        <div class="post-info">
  <span class="date">June 30, 2016</span>
  <span class="reading-time">2 min read</span>
</div>

        <div class="post">
          <p><em>Mongoid</em> provides support for <span href="https://docs.mongodb.com/manual/core/aggregation-pipeline/"><em>MongoDB‚Äôs Aggregation Framework</em></span>, but writing raw queries can be confusing and is extremely verbose:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Product</span><span class="p">.</span><span class="nf">collection</span><span class="p">.</span><span class="nf">aggregate</span> <span class="p">[</span>
  <span class="p">{</span> <span class="s1">'$match'</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s1">'country'</span> <span class="o">=&gt;</span> <span class="s1">'US'</span> <span class="p">}</span> <span class="p">},</span>
  <span class="p">{</span> <span class="s1">'$project'</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s1">'categories'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">},</span>
  <span class="p">{</span> <span class="s1">'$unwind'</span> <span class="o">=&gt;</span> <span class="s1">'$category_ids'</span> <span class="p">},</span>
  <span class="p">{</span>
    <span class="s1">'$group'</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s1">'_id'</span> <span class="o">=&gt;</span> <span class="s1">'$category_ids'</span><span class="p">,</span>
      <span class="s1">'avg_price'</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s1">'$avg'</span> <span class="o">=&gt;</span> <span class="s1">'$price'</span> <span class="p">}</span>
    <span class="p">}</span>
  ‚Ä¶</code></pre></div></div>
        </div>
      </a>
    </div>
  </div>



    <script>
if (document.location.hostname.search('maximomussini.com') !== -1) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-67510525-1', 'auto');
  ga('send', 'pageview');
}
</script>

<script src="/assets/js/anchors.js"></script>
<script src="/assets/js/shortcuts.js"></script>

  </body>
</html>
